<!DOCTYPE html>
<html>
   <head>
      <title>Project 3</title>
      <link rel="icon" href="data:;base64,iVBORwOKGO=" />
      <link rel="preconnect" href="https://fonts.googleapis.com" />
      <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
      <link
         href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap"
         rel="stylesheet"
      />

      <link rel="stylesheet" href="css/documentation.css" />
      <link
         defer
         rel="stylesheet"
         href="https://cdn.jsdelivr.net/npm/@shoelace-style/shoelace@2.15.0/cdn/themes/light.css"
      />

      <script
         src="https://kit.fontawesome.com/ce1e161f8c.js"
         crossorigin="anonymous"
      ></script>
   </head>
   <body>
      <div id="header">
         <div class="lhs">
            <div
               class="top"
               style="
                  display: flex;
                  align-items: center;
                  justify-content: flex-start;
               "
            >
               <h1>Project 3 -</h1>
               <img
                  style="height: 2em; margin: 0 1em"
                  src="https://upload.wikimedia.org/wikipedia/commons/thumb/b/bc/Friends_logo.svg/1186px-Friends_logo.svg.png"
               />
            </div>
            <div class="bottom">
               <p>By Devin Harris, Alex Yang, and Kody Penn</p>
            </div>
         </div>

         <div class="rhs">
            <button onclick="collapseAll()">Collapse All</button>
            <button onclick="expandAll()">Expand All</button>

            <a target="_blank" href="./index.html">
               <button id="info">
                  Visualization
                  <i class="fas fa-external-link-alt"></i>
               </button>
            </a>
         </div>
      </div>

      <details open class="requirements">
         <summary><h2>Requirements</h2></summary>

         <ul>
            <li>
               Explain the motivation for your application. What can it allow
               someone to understand?
            </li>
            <li>
               1 section on the data: Describe the data and include a link.
               <li>Since you will have done more work for this project to obtain and process the data, describe your methods and include processing scripts. </li>
            </li>
            <li>
               1 section on the visualization components: Explain each view of
               the data, the GUI, etc. Explain how you can interact with your
               application, and how the views update in response to these
               interactions.
            </li>
            <li>
               Include design sketches and design justifications.
            </li>
            <li>
               1 section on what your application enables you to discover:
               Present some findings you arrive at with your application.
            </li>
            <li>
               1 section on your process- what libraries did you use? How did
               you structure your code? How can you access it and run it? Link
               to your code (and the live application, if it is deployed
               online).
            </li>
            <li>
               Include a 2-3 minute demo video, showing your application in
               action. The easiest way to record this is with a screen capture
               tool, which also captures audio- such as Quicktime. Use a
               voiceover or video captions to explain your application. Demo
               videos should be sufficient on their own, but can reference your
               documentation. Include the name of the project, your name, the
               project components, and how your application works. You can
               present it on your webpage or on youtube, but linked on your
               webpage.
            </li>
            <li>
               Document who on your team did which component of the project.  Ex.  If someone worked on the data, and on bar charts, list their effort on these components. 
            </li>
         </ul>
      </details>

      <section>
         <details open>
            <summary>
               <h2>Motivation</h2>
            </summary>
            <div class="content">...</div>
         </details>
      </section>

      <section>
         <details open>
            <summary><h2>Data</h2></summary>
            <div class="content">
               <i>
                  ...
                  <a
                     target="_blank"
                     href="https://www.livesinabox.com/friends/scripts.shtml"
                  >
                     here
                  </a>.
               </i>
            </div>
         </details>
      </section>

      <section>
         <details open>
            <summary><h2>Visualization Components</h2></summary>
            <div class="content">
               <div class="vis-view">
                  <h4>Episodes Selector</h4>
                  <img src="./images/visualComponents/timeline.png" />
                  <p>
                    ...
                  </p>
               </div>
               <div class="vis-view">
                  <h4>Characters Selector</h4>
                  <img src="./images/visualComponents/map.png" />
                  <p>
                     ...
                  </p>
               </div>
               <div class="vis-view">
                  <h4>Line Charts</h4>
                  <img src="./images/visualComponents/freqs.png" />
                  <p>
                     ...
                  </p>
               </div>
               <div class="vis-view">
                  <h4>Word Clouds</h4>
                  <img src="./images/visualComponents/histogram.png" />
                  <p>
                     ...
                  </p>
               </div>
               <div class="vis-view">
                  <h4>Chord Charts</h4>
                  <img src="./images/visualComponents/WordCloud.png" />
                  <p>
                     ...
                  </p>
               </div>
            </div>
         </details>
      </section>

      <section>
         <details open>
            <summary><h2>Sketches</h2></summary>
            <div class="content">
               <div class="code-structure">
                  <div class="code-section">
                     <div class="code-image-block">
                        <p>
                           example
                        </p>
                        <img src="./images/sketches/Layout.png" />
                     </div>
                     <div class="code-image-block">
                        <p>
                          example 2
                        </p>
                        <img src="./images/sketches/Map.png" />
                     </div>
                  </div>
               </div>
            </div>
         </details>
      </section>

      <section>
         <details open>
            <summary><h2>Discovery</h2></summary>
            <div class="content">
               ...
            </div>
         </details>
      </section>

      <section>
         <details open>
            <summary><h2>Process</h2></summary>
            <div class="content">
               <p>
                  For libraries we used d3js, d3-cloud, and shoelace. d3 was
                  mainly used in building the chord and line charts. d3-cloud was specifically for generating
                  the word cloud. Shoelace was an interesting webcomponent based library for building our control and layout menus. 
                  It gave us some more interesting UI elements to work with and made it easier to select certain subselections of episodes/characters and change the size of the viewable graphs.
               </p>

               <div class="code-structure">
                  <h4>Our code was structured in the following way:</h4>

                  <div class="code-section">
                     <div class="code-image-block">
                        <p>
                           First our main function collects all the data from
                           the csv, processes said data, then initializes all
                           the charts and event listeners.
                        </p>
                        <img src="./images/code/main.png" />
                     </div>
                     <div class="code-image-block">
                        <p>
                           The processData function loops over all the rawData
                           from the csv and does some type casting and build
                           some calculated fields like the totd, season, year,
                           month, hour, and other fields we are interested in
                           visualizing.
                        </p>
                        <img src="./images/code/data-processing.png" />
                     </div>
                     <div class="code-image-block">
                        <p>
                           The eventListeners in this case are for when the
                           timeline is collapsed, the bar chart sections
                           hideFrequencyCategoriesWithoutData toggle is changed,
                           and when the clear selections button is clicked.
                        </p>
                        <img src="./images/code/event-listeners.png" />
                     </div>

                     <div class="code-image-block">
                        <p>
                           We also had a globals file that stored all global
                           variables that would be shared across different chart
                           types. These variables include the rawData from the
                           csv, the processedData which is the rawData with
                           calculated fields and type casting, then the actual
                           data which is the filtered down version of the
                           processedData based on brush selections.
                        </p>
                        <img src="./images/code/data-variables.png" />
                     </div>

                     <div class="code-image-block">
                        <p>
                           We also had global variables for all the chart
                           instances. This makes it easier to access any chart
                           from anywhere in the code and makes it especially
                           easy to trigger updateVis method from other chart
                           interactions.
                        </p>
                        <img src="./images/code/chart-variables.png" />
                     </div>

                     <div class="code-image-block">
                        <p>
                           Finally, there were also a few helper functions
                           defined globally. The main two of note are the
                           updateAllVis and handleGlobalFilterChange. These
                           functions handle calling the updateVis/updateData on
                           all the charts, and applying new filtering logic to
                           the processedData to send to the chart instances on
                           some brush selections or timeline change. Another
                           interesting concept is debouncing the
                           handleGlobalFilterChange. Because all the charts call
                           this, making sure frequent potentially duplicated
                           calls dont trigger unessecary processing, a debounce
                           was implemented to basically wait 50ms after a call
                           to this method is made and if no new call is made in
                           that time it does the processing.
                        </p>
                        <img src="./images/code/helper-variables.png" />
                     </div>
                  </div>
               </div>

               <p>
                  Of course there are lots of more interesting areas, such as
                  the chart implementations themselves and how the timeline
                  plays on a setInterval, but I will leave that for you to
                  investigate in our sourcecode!
               </p>
               <br />
               <p>
                  You can access the source code
                  <a
                     target="_blank"
                     href="https://github.com/ko-penn/Data-Visualizations-Project-3"
                  >
                     here
                  </a>
                  and run it simply in VSCode with the live preview extension on
                  the index.html file. You can also see the live version
                  <a target="_blank" href="https://data-visualizations-project-3.netlify.app/"
                     >here</a
                  >.
               </p>
            </div>
         </details>
      </section>

      <section>
         <details open>
            <summary><h2>Demo</h2></summary>
            <div class="content">
               <div class="video-container">
                  <!-- <iframe
                     src="https://www.youtube.com/embed/OTGighXTjCk"
                  ></iframe> -->
               </div>
            </div>
         </details>
      </section>

      <section>
         <details open>
            <summary><h2>Contributions</h2></summary>
            <div class="content">
               <p><b>Devin Harris</b>: Site Layout (Episodes/Character Selectors, Tabbed Content), Chord Graphs</p>
               <p>
                  <b>Kody Penn</b>: 
               </p>
               <p><b>Alex Yang</b>: </p>
            </div>
         </details>
      </section>

      <script>
         function collapseAll() {
            Array.from(document.querySelectorAll('details')).forEach(
               (element) => {
                  element.open = false;
               }
            );
         }

         function expandAll() {
            Array.from(document.querySelectorAll('details')).forEach(
               (element) => {
                  element.open = true;
               }
            );
         }
      </script>
   </body>
</html>
